<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="navbar-header wd-margin-sx">
                    <p class="navbar-text pull-left">
                        <a ng-click="model.goBackToProfile()"
                           class="navbar-link">
                            <span class="glyphicon glyphicon-chevron-left"></span>
                        </a>
                        <a>
                            Research Data
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</nav>

<div class="container-fluid">

    <label for="criteria">Criteria</label>
    <select id="criteria"
            ng-model="model.criteria"
            ng-change="model.searchData(model.userId, model.criteria)"
            class="form-control">
        <option>Theme</option>
        <option>Destination City</option>
        <option>Origin City</option>
        <option>Budget</option>
    </select>


    <div ng-switch="model.criteria">
        <div ng-switch-when="Theme|Budget" ng-switch-when-separator="|">

                        <div class="container-fluid">
                        <div class="row">
                            <div class="card col-md-12" ng-repeat="result in model.searchData">
                                <hr>
                                <div class ="card col-md-4" height="50%"><h3>{{result.theme}}</h3> </div>
                                <div class ="card col-md-4" height="33%" ><i>{{result.distance}}&nbspmiles(${{result.pricePerMile}}/mi) </i></div>
                                <div class ="card col-md-4" height="50%"><h3>{{result.destination}}</h3></div>
                                <div class="card col-md-4"  height="25%"><i>{{result.departDateTime}}</i></div>
                                <div class="card col-md-4"  height="20%"><img src="../images/Arrow-Right-128.png"/></div>
                                <div class="card col-md-4"  height="25%"><i>{{result.returnDateTime}}</i></div>
                                <div class="card col-md-12">
                                    <label>
                                        Lowest Fares(with Stops)
                                    </label>
                                </div>
                                <br>
                                <br>
                                <div class="card col-md-12" ng-repeat="lowestFr in result.lowestFares">
                                    <div class="card col-md-6" style="text-align: start">{{lowestFr.airLineCode}}</div>
                                    <div class="card col-md-6" style="text-align: end">{{result.lowestFareWS}}</div>
                                </div>
                                <div class="card col-md-12">
                                    <label>
                                        Lowest Fares(Non-Stop)
                                    </label>
                                </div>
                                <br>
                                <br>
                                <div class="card col-md-12" ng-repeat="lowestFr in result.lowestFaresNonStop">
                                    <div class="card col-md-6" style="text-align: start">{{lowestFr.airLineCode}}</div>
                                    <div class="card col-md-6" style="text-align: end">{{result.lowestFareNS}}</div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>


        <div ng-switch-when="Destination City|Origin City" ng-switch-when-separator="|">
            <div class="row">
                <div class="card col-md-12" ng-repeat="result in model.searchData" padding="10px">
                    <hr>
                    <div class="card col-md-12"><label>Up Journey</label></div>
                    <br>
                    <div class="card col-md-12" ng-repeat="trip in result.tripData.upflightDetails">
                        <div class ="card col-md-4" height="50%"><h3>{{trip.departureAirport}}</h3> </div>
                        <div class ="card col-md-4" height="33%" ><i>{{trip.airLineCode}}-{{trip.flightNo}}</i></div>
                        <div class ="card col-md-4" height="50%"><h3>{{trip.arrAirport}}</h3></div>
                        <div class="card col-md-4"  height="25%"><i>{{trip.departureDateTime}}(GMT{{trip.departureTimeZone}})</i></div>
                        <div class="card col-md-4"  height="20%"><img src="../images/Arrow-Right-128.png"/></div>
                        <div class="card col-md-4"  height="25%"><i>{{trip.arrDateTime}}(GMT{{trip.arrTimeZone}})</i></div>

                    </div>
                    <div class="card col-md-12"><h4> No of Stops:{{result.tripData.upStopCount}}</h4></div>
                    <br>
                    <br>
                    <br>
                    <div class="card col-md-12"><label>Down Journey</label></div>
                    <br>
                    <div class="card col-md-12" ng-repeat="trip in result.tripData.downFlightDetails">
                        <div class ="card col-md-4" height="50%"><h3>{{trip.departureAirport}}</h3> </div>
                        <div class ="card col-md-4" height="50%"><i>{{trip.airLineCode}}-{{trip.flightNo}}</i></div>
                        <div class ="card col-md-4" height="50%"><h3>{{trip.arrAirport}}</h3></div>
                        <div class="card col-md-4"  height="50%"><i>{{trip.departureDateTime}}(GMT{{trip.departureTimeZone}})</i></div>
                        <div class="card col-md-4"  height="50%"><img src="../images/Arrow-Right-128.png"/></div>
                        <div class="card col-md-4"  height="50%"><i>{{trip.arrDateTime}}(GMT{{trip.arrTimeZone}})</i></div>
                    </div>
                    <div class="card col-md-12"><h4> No of Stops:{{result.tripData.downStopCount}}</h4></div>
                    <br>
                    <br>
                    <div class="card col-md-12"><label>Fares</label></div>
                    <br>
                    <br>
                    <div class="card col-md-6" style="text-align: start"><i>BaseFare</i></div>
                    <div class="card col-md-6" style="text-align: end"><i>{{result.faresDetails.baseFare}}</i></div>
                    <div class="col card-md-12" ng-repeat="tax in result.faresDetails.taxes">
                        <div class="card col-md-6" style="text-align: start"><i>{{tax.type}} Tax</i></div>
                        <div class="card col-md-6" style="text-align: end"><i>{{tax.amount}}</i></div>
                    </div>
                    <div class="card col-md-6" style="text-align: start"><i>Total Taxes</i></div>
                    <div class="card col-md-6" style="text-align: end"><i>{{result.faresDetails.totalTax}}</i></div>
                    <div class="card col-md-6" style="text-align: start"><i>Total Fare</i></div>
                    <div class="card col-md-6" style="text-align: end"><i>{{result.faresDetails.totalFare}}</i></div>
                    <div class="card col-md-6" style="text-align: start"><b>Non-Refundable??</b></div>
                    <div class="card col-md-6" style="text-align: end"><b>{{result.nonRefundable}}</b></div>
                    <hr>

                </div>
            </div>
        </div>

        </div>
    </div>





<div ng-include="'views/common/footer.view.client.html'"></div>